<VirtualHost *:80>
    ServerAdmin cristianvg9692@gmail.com
    ServerName cvillegas-dev.com
    DocumentRoot /var/www/html

    ErrorLog ${APACHE_LOG_DIR}/cvillegas-dev.com.error.log
    CustomLog ${APACHE_LOG_DIR}/cvillegas-dev.com.access.log combined

    RewriteEngine on
    RewriteCond %{HTTPS} != on
    RewriteRule ^/?(.*) https://%{SERVER_NAME}/$1 [R=301, L]

    <Directory /var/www/html>
        AllowOverride all
    </Directory>
</VirtualHost>

<VirtualHost *:443>

    ServerAdmin cristianvg9692@gmail.com
    ServerName cvillegas-dev.com
    DocumentRoot /var/www/html

    ErrorLog ${APACHE_LOG_DIR}/cvillegas-dev.com.error.log
    CustomLog ${APACHE_LOG_DIR}/cvillegas-dev.com.access.log combined

    RewriteEngine on
    RewriteCond %{HTTPS} != on
    RewriteRule ^/?(.*) https://%{SERVER_NAME}/$1 [R=301, L]

    SSLEngine on
    SSLProxyEngine on 
    SSLCertificateFile /file.cer
    SSLCertificateKeyFile /file.key

</VirtualHost>
